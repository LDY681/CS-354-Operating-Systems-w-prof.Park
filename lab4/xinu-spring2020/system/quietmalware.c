/*  quietmalware.c  - quietmalware */

#include <xinu.h>

/*------------------------------------------------------------------------
 *  quietmalware  -  modify local variable x
 *  liu1589, lab4 part4, 3/27
 *------------------------------------------------------------------------
 */
void quietmalware() {	//victim Pid is getpid() - y
	struct procent *victimEntry = &proctab[currpid];		//get victim proc's process entry
	uint32 *prstkptr = (uint32 *)victimEntry->prstkbase;	//get it's run-time stack
	
	prstkptr-=5;
	*prstkptr = 9;
	prstkptr-=5;
	*prstkptr = 9;
	
	if (XINUDEBUG == 1){
		kprintf("quitemalware: I runned\n");
	}
}